(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{504:function(t,e,n){"use strict";var r=n(4),o=n(81).find,c=n(147),l="find",d=!0;l in[]&&Array(1).find((function(){d=!1})),r({target:"Array",proto:!0,forced:d},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},505:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(126);var o=n(149),c=n(94);function l(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(o.a)(t)||Object(c.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},506:function(t,e,n){var content=n(650);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(67).default)("1084d351",content,!0,{sourceMap:!1})},649:function(t,e,n){"use strict";n(506)},650:function(t,e,n){var r=n(66)(!1);r.push([t.i,"input[data-v-522ad2d0]:invalid{background-color:#fabbaf}.cross-btn[data-v-522ad2d0]{position:absolute;top:0;right:10px;width:10px;cursor:pointer}",""]),t.exports=r},672:function(t,e,n){"use strict";n.r(e);var r=n(505),o=(n(504),n(34),n(80),n(68),n(69),n(42),n(45),n(146),{name:"add-machine",data:function(){return{showEditMode:!1,ipAddress:"",selectedUser:"",search:"",machineName:"",machineType:""}},methods:{userMachine:function(t){var e,n;return null!==(e=null===(n=this.$store.state.machines.find((function(e){return e.mobile===t.mobile})))||void 0===n?void 0:n.machines)&&void 0!==e?e:[]},editMode:function(t){this.showEditMode=!0,this.selectedUser=t,this.ipAddress="",this.machineName="",this.machineType=""},deleteMachine:function(t,e){var n=JSON.parse(JSON.stringify(this.$store.state.machines.find((function(t){return t.mobile===e.mobile}))));n.machines=n.machines.filter((function(e){return e.ip!==t.ip})),this.updateDB(n)},assignNewUser:function(t){var e,n=this,o={machines:[],mobile:this.selectedUser.mobile},c=JSON.parse(JSON.stringify(null!==(e=this.$store.state.machines.find((function(t){return t.mobile===n.selectedUser.mobile})))&&void 0!==e?e:o));c.machines=[].concat(Object(r.a)(c.machines),[{ip:this.ipAddress,type:this.machineType,name:this.machineName}]),this.updateDB(c)},updateDB:function(t){var e=this;this.$fire.firestore.collection("Machines").doc(this.selectedUser.mobile).set(t).then((function(){e.$toast.success("Machine Updated successfully").goAway(2e3),e.$store.dispatch("updateMachineList")}))}},computed:{users:function(){var t=this;return this.$store.state.users.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())||e.mobile.includes(t.search)}))},machineTypes:function(){return this.$store.state.machineTypes}}}),c=(n(649),n(12)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-content-center"},[t.showEditMode?n("div",{staticClass:"col-lg-3 col-md-4 col-11 mt-4"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header pb-0 px-3"},[n("div",{staticClass:"row"},[n("h6",{staticClass:"col mb-0"},[t._v(t._s(t.selectedUser.name)+"'s Machines")]),t._v(" "),n("div",{staticClass:"col-auto ml-auto cursor-pointer",on:{click:function(e){t.showEditMode=!1}}},[t._v("❌")])])]),t._v(" "),n("div",{staticClass:"card-body pt-4 p-3",staticStyle:{"max-height":"70vh","overflow-y":"auto"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.assignNewUser.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.ipAddress,expression:"ipAddress"}],staticClass:"form-control",attrs:{required:"",pattern:"192.168.3.[123][\\d]",placeholder:"Add New IP",type:"text"},domProps:{value:t.ipAddress},on:{input:function(e){e.target.composing||(t.ipAddress=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.machineName,expression:"machineName"}],staticClass:"form-control my-3",attrs:{placeholder:"Machine Name",type:"text"},domProps:{value:t.machineName},on:{input:function(e){e.target.composing||(t.machineName=e.target.value)}}}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.machineType,expression:"machineType"}],staticClass:"form-select mt-3",attrs:{required:"",name:"cars",id:"cars"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.machineType=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",value:"Select Machine"}},[t._v("Select Machine")]),t._v(" "),t._l(t.machineTypes,(function(e){return n("option",{domProps:{value:e}},[t._v(" "+t._s(e))])}))],2),t._v(" "),n("button",{staticClass:"btn bg-gradient-dark w-100 my-4",attrs:{type:"submit"}},[t._v("Add New Ip")])])])])]):t._e(),t._v(" "),n("div",{staticClass:"col mt-md-0 mt-4 mx-4"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header pb-0 px-3"},[n("div",{staticClass:"row p-3"},[t._m(0),t._v(" "),n("div",{staticClass:"col-6 m-0"},[n("form",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{placeholder:"Search here",type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])])])]),t._v(" "),n("div",{staticClass:"card-body p-3",staticStyle:{"max-height":"70vh","overflow-y":"scroll"}},[n("ul",{staticClass:"list-group"},t._l(t.users,(function(e){return n("li",{staticClass:"list-group-item border-0 d-flex m-1 p-2 mb-2 bg-gray-100 border-radius-lg row"},[n("div",{staticClass:"col-8 d-flex flex-column"},[n("h6",{staticClass:"mb-3 text-sm"},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"row"},t._l(t.userMachine(e),(function(r){return n("div",{staticClass:"bg-warning p-1 rounded text-dark font-weight-bold col-5 m-1 row position-relative"},[t.showEditMode?n("span",{staticClass:"cross-btn",on:{click:function(n){return t.deleteMachine(r,e)}}},[t._v("❌")]):t._e(),t._v(" "),n("div",{staticClass:"col-6 bg-secondary rounded text-white"},[t._v("Name")]),t._v(" "),n("div",{staticClass:"col-6"},[t._v(t._s(r.name))]),t._v(" "),n("div",{staticClass:"col-6 bg-secondary rounded text-white my-2"},[t._v("Type")]),t._v(" "),n("div",{staticClass:"col-6 my-2"},[t._v(t._s(r.type))]),t._v(" "),n("div",{staticClass:"col-6 bg-secondary rounded text-white"},[t._v("Ip")]),t._v(" "),n("div",{staticClass:"col-6"},[t._v(t._s(r.ip))])])})),0)]),t._v(" "),n("div",{staticClass:"col ms-auto text-end"},[n("a",{staticClass:"btn btn-link text-dark px-3 mb-0",attrs:{href:"#"},on:{click:function(n){return t.editMode(e)}}},[n("i",{staticClass:"fas fa-pencil-alt text-dark me-2",attrs:{"aria-hidden":"true"}}),t._v("Edit\n              ")])])])})),0)])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-6"},[n("h6",{staticClass:"mb-0"},[t._v("User Information")])])}],!1,null,"522ad2d0",null);e.default=component.exports}}]);