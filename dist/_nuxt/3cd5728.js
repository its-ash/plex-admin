(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{678:function(t,e,n){"use strict";n.r(e);n(34),n(68),n(69),n(42),n(45),n(146),n(79);var c={name:"user",data:function(){return{search:"",reloadKey:1}},computed:{users:function(){var t=this;return this.$store.state.users.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())||e.mobile.includes(t.search)}))},ping:function(){return this.$store.state.ping},updateKey:function(){return this.$store.state.updateKey},rawPing:function(){return this.$store.state.rawPing},vpnStatus:function(){return this.$store.state.vpnStatus}},methods:{isDeviceLive:function(t){return!!this.rawPing[t.mobile]&&new Date((new Date).getTime())-new Date(this.rawPing[t.mobile])<1e5},connectPLC:function(t){this.$toast.success("Connected").goAway(3e3),window.connect(t.mobile)},disconnectPLC:function(t){this.$toast.success("Disconnected").goAway(3e3),window.disconnect(t.mobile)}},created:function(){var t=this;setInterval((function(){t.reloadKey+=1}),3e3)}},r=n(12),component=Object(r.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid py-4"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-header pb-0"},[n("div",{staticClass:"row"},[n("h6",{staticClass:"col-6 m-0"},[t._v("User table")]),t._v(" "),n("div",{staticClass:"col-6 m-0"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{placeholder:"Search here",type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])])]),t._v(" "),n("div",{key:t.reloadKey,staticClass:"card-body px-0 pt-0 pb-2"},[n("div",{staticClass:"table-responsive p-0"},[n("table",{staticClass:"table align-items-center mb-0"},[t._m(0),t._v(" "),n("tbody",{key:t.updateKey},t._l(t.users,(function(e){return n("tr",{staticClass:"machine-list"},[n("td",[n("div",{staticClass:"d-flex px-2 py-1"},[n("div",{staticClass:"d-flex flex-column justify-content-center"},[n("h6",{staticClass:"mb-0 text-sm"},[t._v(t._s(e.name))]),t._v(" "),n("p",{staticClass:"text-xs text-secondary mb-0"},[t._v(t._s(e.email))])])])]),t._v(" "),n("td",[n("p",{staticClass:"text-xs font-weight-bold mb-0"},[t._v(t._s(e.district))]),t._v(" "),n("p",{staticClass:"text-xs text-secondary mb-0"},[t._v(t._s(e.state))])]),t._v(" "),n("td",{staticClass:"align-middle text-center text-sm"},[n("span",{staticClass:"badge badge-sm",class:{"bg-gradient-success":t.isDeviceLive(e),"bg-gradient-danger":!t.isDeviceLive(e)}},[t._v("\n                    "+t._s(e.mobile)+"\n                  ")])]),t._v(" "),n("td",{staticClass:"align-middle text-center"},[n("span",{staticClass:"text-secondary text-xs font-weight-bold"},[t._v(t._s(t.ping[e.mobile]||"No Data Available"))])]),t._v(" "),n("td",{staticClass:"align-middle text-center"},[t.vpnStatus[e.mobile]?n("button",{staticClass:"btn bg-gradient-danger m-0 p-1 btn-sm small",on:{click:function(n){return t.disconnectPLC(e)}}},[t._v("\n                    Disconnect\n                  ")]):n("button",{staticClass:"btn bg-gradient-primary m-0 p-1 btn-sm small",on:{"!click":function(n){return t.connectPLC(e)}}},[t._v("\n                    Connect\n                  ")])])])})),0)])])])])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticClass:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"},[t._v("User")]),t._v(" "),n("th",{staticClass:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"},[t._v("Location")]),t._v(" "),n("th",{staticClass:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"},[t._v("Status\n                ")]),t._v(" "),n("th",{staticClass:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"},[t._v("\n                  Last\n                  Ping\n                ")]),t._v(" "),n("th",{staticClass:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"},[t._v("\n                  Connect\n                ")])])])}],!1,null,"2d3a638e",null);e.default=component.exports}}]);